<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/template/_template.xhtml">
    <ui:define name="metaInfo">

    </ui:define>
    <ui:define name="tracker"/>
    <ui:define name="centerpane"> 
        <div style="height: 1320px; width: 100%">
                
            <!--Form regform holds all the registration elements-->
            <h:form id="regform">
                <h:panelGrid columns="3">
                    <p:outputLabel value="Username: "/>
                    <p:inputText id="username" value="#{sessionBean1.currentUser.uName}" required="true"/>
                    <p:message id="unameMsg" for="username"/>
                    
                    <p:outputLabel value="Email: "/>
                    <p:inputText id="email" value="#{sessionBean1.currentUser.email}" required="true"/>
                    <p:message id="emailMsg" for="email"/>
                                        
                    <p:outputLabel value="Password: "/>
                    <p:password id="password" value="#{sessionBean1.currentUser.pWord}" feedback="true" required="true"/>
                    <p:message id="pwordMsg" for="password"/>
                    
                    <p:outputLabel value="First Name: "/>
                    <p:inputText id="firstname" value="#{sessionBean1.currentUser.fName}" required="true"/>
                    <p:message id="fnameMsg" for="firstname"/>
                    
                    <p:outputLabel value="Last Name: "/>
                    <p:inputText id="lastname" value="#{sessionBean1.currentUser.lName}" required="true"/>
                    <p:message id="lnameMsg" for="lastname"/>
                    
                    <p:commandButton value="Register" update="regform" action="ReviewEditor.xhtml?faces-redirect=true">
                        <f:actionListener binding="#{sessionBean1.currentUser.saveUserFile(currentUser)}"/>   
                    </p:commandButton>
                    
                </h:panelGrid>
                               
            </h:form>

            <h:panelGrid style="padding:10px; line-height: 24px; position:absolute; top:560px; text-align: center; left:50%; margin-left:-600px; width: 1200px; height:160px; ">

            </h:panelGrid>

            
        </div>

    </ui:define>
    <!-- Still does not want to work... -->
    <!--JavaScript to validate email-->
    <script src="js/script.js">
    
    function emailValidate(){
        var email = $.trim($("#regform\\:email").val();
        var emailFilter = /^w+([.-]?w+)*@w+([.-]?w+)*(.w{2,3})+$/;
        if (email.value.match(emailFilter)){
            return(true);
        }
            $("#regform\\:emailMsg").text("Invalid Email");
            return(false);
    }
    </script>
   
    
</ui:composition>


